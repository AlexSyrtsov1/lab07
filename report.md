---
# Front matter
lang: ru-RU
title: "Отчёт по лабораторной работе №7"
subtitle: "Графики"
author: "Сырцов Александр Юрьевич"

# Formatting
toc-title: "Содержание"
toc: true # Table of contents
toc_depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
polyglossia-lang: russian
polyglossia-otherlangs: english
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: true
pdf-engine: lualatex
header-includes:
  - \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
  - \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
  - \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
  - \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
  - \binoppenalty=700 # the penalty for breaking a line at a binary operator
  - \relpenalty=500 # the penalty for breaking a line at a relation
  - \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
  - \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
  - \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
  - \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
  - \predisplaypenalty=10000 # penalty for breaking before a display
  - \postdisplaypenalty=0 # penalty for breaking after a display
  - \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
  - \raggedbottom # or \flushbottom
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Познакомиться с возвожностями Octave в построении графиков неявных, полярных, комплексных и специальных функций и научиться их применению.

# Задание

• Сделать отчёт по лабораторной работе в формате Markdown.
• В качестве ответа предоставить отчёты в 3 форматах: pdf, docx и md (в архиве, поскольку он должен содержать скриншоты, Makefile и т.д.).

# Выполнение лабораторной работы

## Параметрические графики

1. Дана параметрически заданная функция циклоиды – переодическая кривая, которая задана окружностью радиусом `r` и углом `t` катящейся по прямой. Необходимо построить график функции с радиусом 2 и промежутком от 0 до 6π, чтобы отобразить 3 полных периода.

$$ x = r(t - \sin (t)) $$,
$$ y = r(1 - \cos (t)) $$

Для построения графика задал вектор `t` как вектор значений, а далее определил радиус и по этим параметрам определил `x` и `y` по функциям выше. Построение графика обычной функции в декартовых координатах практически не отличается от параметрической функции, так как тут точно так же есть переменная-вектор, по которой определяется функция. Отличие в том, что в параметрической функции `x` и `y` являются двумя отдельными функциями, а вектор представляет из себя независимую переменную (рис. -@fig:001).

![График циклоиды](pics/1.png){ #fig:001 width=70% }

2. Подгоняю оси функцией `axis()`. Порядок обеих операций ни на что не влияет (рис. -@fig:002).

![График циклоиды с подогнанными осями](pics/2.png){ #fig:002 width=70% }

3. Для более презентабельного вида графика можно поменять подписи к оси `x`, чтобы числа были в виде радиан. Здесь я просто демонстрирую ещё одну возможность Octave (рис. -@fig:003).

![Более точная подпись осей](pics/3.png){ #fig:003 width=70% }

4. Сохраняю требуемый график в двух форматах. В формат pdf фигура сохранена через две разные функции, из-за чего файл `cycloid.pdf` был перезаписан (рис. -@fig:004).

![Сохранение циклоиды](pics/4.png){ #fig:004 width=70% }

## Графики функций в полярных координатах

5. Дана кардиоида (улитка Паскаля). Построение не отличается от параметрической функции. Для перехода к полярным координатам используется следующая замена:

$$ x = r \cos (\theta) $$,
$$ y = r \sin (\theta) $$

Нам уже задана функция в полярных координатах, поэтому замену я использую для отображения графика на декартовом пространстве. Сначала определяю вектор значений для угла тэта и определяю с его помощью радиус `r`, а для отображения графика подставляю их в формулы выше, отчищаю фигуру и вывожу график через полученные значения `x`, `y`(рис. -@fig:005).

![Кардиоида в декартовых координатах](pics/5.png){ #fig:005 width=70% }

6. Сохраняю фигуру (рис. -@fig:006).

![Сохранение кардиоиды](pics/6.png){ #fig:006 width=70% }

7. Для построения графика в полярных координатах проделываю предыдущие шаги, не определяя `x`, `y`, а используя специальную функцию `polar()`. Ключевое отличие в том, что полярная система координат не имеет осей, а лишь радиус, который меняется в зависимости от угла поворота (рис. -@fig:007).

![Кардиоида в полярных координатах](pics/7.png){ #fig:007 width=70% }

8. Сохраняю график (рис. -@fig:008).

![Сохранение кардиоиды в полярной системе координат](pics/8.png){ #fig:008 width=70% }

## Графики неявных функций

9. В качестве функции. заданной неявно. дано уравнение кривой второго порядка. Для её построения определяю уравнение в виде функции, для удобства это лямбда-функция `f`. Её достаточно передать в функцию первого рода `ezplot()`, которая автоматически строит график. По графику видно, что заданное уравнение является каноническим уравнением гиперболы под наклоном (рис. -@fig:009).

![Неявная функция гиперболы](pics/9.png){ #fig:009 width=70% }

10. Теперь необходимо найти касательную в точке [-1, 4] к окружности. Уравнение окружности тоже неявно заданное, так что построение окружности происходит так же через лямбда-функцию и `ezplot()`. Дополнительно подгоняем оси вторым параметром (рис. -@fig:010).

$$ (x-2)^2 + y^2 = 25 $$

![Окружность](pics/10.png){ #fig:010 width=70% }

11. Чтобы найти касательную к неявной функции, как, впрочем, и к любой другой функции, необходимо продифференцировать:

$$ \frac{d}{dx} ((x-2)^2) + \frac{d}{dx} (y^2) = 0 $$,

$$ 2(x-2) + 2y \frac{d}{dx} (y(x)) = 0 $$,

$$ \frac{dy(x)}{dx} = \frac{2-x}{y} $$

Далее подставив координаты точки в производную наодим коэффицент наклона 3/4, а в конце получаем уравнение прямой

$$ y = \frac{3}{4} x + \frac{19}{4} $$

Строим график прямой на графике с окружностью, определив вектор `x`от -6 до 10 включительно и `y` по найденной формуле. Сразу сохраняю фигуру (рис. -@fig:011).

![Окружность с касательной](pics/11.png){ #fig:011 width=70% }

## Комплексные числа

12. Задаю комплексные числа `z1` и `z2` и провожу основные операции: сложение, умножение и деление (рис. -@fig:012).

![Комплексные операции](pics/12.png){ #fig:012 width=70% }

13. Отчистив фигуру, изображаю комплексные прямые и их сумму, используя функцию `compass()`, задаю легенду и сохраняю фигуру (рис. -@fig:013).

![График комплексных прямых](pics/13.png){ #fig:013 width=70% }

14. Чтобы легенда не перекрывала поле или данные в принципе можно прописать более удачную позицию вне поля отоображения графика (рис. -@fig:014).

![Исправленная легенда](pics/14.png){ #fig:014 width=70% }

15. При извлечении корня из отрицательного числа Octave автоматически возвращает комплексное число, поэтому, при извлечении корня третей степени из -8, вышло очень кривое число (рис. -@fig:015).

![Неоднозначный корень](pics/15.png){ #fig:015 width=70% }

Далее возвожу это число в третью степень, чтобы убедиться, что -8 с некоторым допущением можно получить (рис. -@fig:016).

![Неточный результат](pics/16.png){ #fig:016 width=70% }

Используя встроенную функцию получил  действительный корень исходного выражения в обход стандартной механики языка, о которой сказано выше (рис. -@fig:017).

![Точный результа с помощью *nthroot()*](pics/17.png){ #fig:017 width=70% }

## Специальные функции

16. В Octave есть и специальные функции, вроде гамма-функции, которая соответствует следующему выражени:

$$ \Gamma (n) = (n-1)! $$,

$$ \text{аналогично } n! = \Gamma (n+1) $$

Второе я и изображаю на графике. Задаю вектор значений `n` от 0 до 5 для факториала и вектор значений для функции гамма от выражения `x + 1`. Подогнал оси, включил сетку, задал легенду и сохранил график. По отрезку, на которому задан факториал видно, что выражения выше соответствуют истине (рис. -@fig:018).

![Гамма-функция и факториал](pics/18.png){ #fig:018 width=70% }

17. К сожалению, график имеет артефакты на горизонтальных асимтотах, поэтому задаю частичные промежутки, исключая промежутки с артефактами. Промежутков 5: от `x1` до `x5`. Для отображения всех промежутков на фигуре отображаем их как дополнительные графики. После этого вновь задаю легенду с уже более презентабильным названием для гамма-функции и по стандарту сохраняю фигуру (рис. -@fig:019).

![Гамма-функция и факториал без артефактов](pics/19.png){ #fig:019 width=70% }

Примечание: аналогичного эффекта, возможно, можно добится изменением мелкости разбиения. Во всяком случае в подобных языках такая ситуация возникает.

# Выводы

Я познакомился с принципами построения параметрических и специальных функций в Octave, функциями `compass()`, `polar()` и `ezplot()` и смог применить их для создания наглядных фигур.